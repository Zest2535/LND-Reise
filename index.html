<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LND-Reisen ‚Äì Ihr Tor zur Welt</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Bootstrap Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <!-- Google Fonts (Poppins) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">



  <!-- Eigene Styles -->
  <link rel="stylesheet" href="styleIndex.css">
  <link rel="stylesheet" href="animations.css">
</head>

<body>

  <!-- Toast Container -->
  <div class="toast-container" id="toastContainer"></div>

  <!-- üîπ NAVIGATION -->
  <nav id="mainNavbar" class="navbar navbar-expand-lg navbar-light bg-white border-bottom fixed-top">
    <div class="container">
      <a class="navbar-brand fw-bold text-primary" href="#">LND-Reisen</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Navigation umschalten">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="index.html">Startseite</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#angebote">Top-Angebote</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#reiseziele">Reiseziele</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="angebote.html">Alle Angebote</a>
          </li>
          <li class="nav-item" id="navRegister">
            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#registerModal">Registrieren</a>
          </li>
          <li class="nav-item" id="navLogin">
            <a class="nav-link" href="#" data-bs-toggle="modal" data-bs-target="#loginModal">Anmelden</a>
          </li>
          <li class="nav-item dropdown" id="navUser" style="display: none;">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
              <i class="bi bi-person-circle"></i> <span id="navUserName"></span>
            </a>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#profileModal" onclick="loadProfile()"><i class="bi bi-person me-2"></i>Mein Profil</a></li>
              <li><a class="dropdown-item" href="#" onclick="logout()"><i class="bi bi-box-arrow-right me-2"></i>Abmelden</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- üîπ HERO -->
  <header class="hero" style="background-image: url('https://images.unsplash.com/photo-1476514525535-07fb3b4ae5f1?auto=format&fit=crop&w=1920&q=80');">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <div class="container">
        <div class="hero-text text-center">
          <h1 class="display-4 fw-bold animate-fade-in">Ihr Tor zur Welt</h1>
          <p class="lead my-4 animate-fade-in-delay">Entdecken Sie mit uns unvergessliche Reiseziele ‚Äì komfortabel, zuverl√§ssig und pers√∂nlich.</p>
          <a href="#angebote" class="btn btn-primary btn-lg mt-3 animate-fade-in-delay-2">Jetzt Traumreise planen</a>
        </div>
      </div>
    </div>
  </header>

  <!-- üîπ QUICK SEARCH STRIP (wie im Anhang) -->
  <section class="quick-search py-4">
    <div class="container">
      <div class="search-strip">
        <div class="search-fields">
          <div class="search-row">
            <div class="field input-pill" style="position: relative;">
              <i class="bi bi-search"></i>
              <input type="text" class="form-control" id="destination-search" placeholder="Reiseziel, Ort,..." autocomplete="off">
              <div id="autocomplete-list" class="autocomplete-list"></div>
            </div>

            <div class="field input-pill">
              <i class="bi bi-airplane-fill"></i>
              <select class="form-control" id="abflughafen" aria-label="Abflughafen">
                <option value="">Abflughafen</option>
                <option value="VIE">Wien</option>
                <option value="SZG">Salzburg</option>
                <option value="INN">Innsbruck</option>
                <option value="GRZ">Graz</option>
                <option value="LNZ">Linz</option>
                <option value="KLU">Klagenfurt</option>
              </select>
            </div>

            <div class="field input-pill">
              <i class="bi bi-people"></i>
              <input type="number" class="form-control" id="personen" min="1" max="10" value="2" aria-label="Anzahl Reisende">
            </div>

            <div class="field input-pill">
              <i class="bi bi-calendar-event"></i>
              <input type="date" class="form-control" id="reisedatum" aria-label="Reisedatum">
            </div>

            <button class="btn btn-search" aria-label="Reise suchen"><i class="bi bi-search me-2"></i>Suchen</button>
          </div>
        </div>

        <!-- Preview area for offers when searching on the homepage -->
        <div id="offersPreview" class="container mt-4" style="display: none;">
          <h5 class="mb-3">Passende Angebote</h5>
          <div id="offersPreviewContainer" class="row g-3"></div>
          <div class="mt-3 text-end">
            <a id="offersPreviewMore" class="btn btn-sm btn-outline-primary" href="#">Mehr Angebote anzeigen</a>
          </div>
        </div>

      </div>
    </div>
  </section>
  
  <!-- üîπ LOGIN MODAL -->
  <div class="modal fade" id="loginModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content border-0 shadow-lg">
        <div class="modal-header border-0 pb-0">
          <h5 class="modal-title fw-bold"><i class="bi bi-box-arrow-in-right me-2 text-primary"></i>Anmelden</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
        </div>
        <div class="modal-body px-4 pb-4">
          <form id="loginForm" novalidate>
            <div class="mb-3">
              <label class="form-label fw-semibold"><i class="bi bi-envelope me-2"></i>E-Mail</label>
              <input type="email" id="loginEmail" class="form-control form-control-lg" placeholder="ihre@email.com" required>
              <div class="invalid-feedback">Bitte geben Sie eine g√ºltige E-Mail ein</div>
            </div>
            <div class="mb-3">
              <label class="form-label fw-semibold"><i class="bi bi-lock me-2"></i>Passwort</label>
              <div class="input-group">
                <input type="password" id="loginPassword" class="form-control form-control-lg" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required minlength="6">
                <button class="btn btn-outline-secondary" type="button" id="toggleLoginPassword">
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div class="invalid-feedback">Passwort muss mindestens 6 Zeichen haben</div>
            </div>
            <button type="submit" class="btn btn-primary btn-lg w-100 mt-3">
              <i class="bi bi-check-circle me-2"></i>Anmelden
            </button>
            <p class="text-center mt-3 mb-0 text-muted">Noch kein Konto? <a href="#" data-bs-toggle="modal" data-bs-target="#registerModal" data-bs-dismiss="modal" class="text-primary fw-semibold">Jetzt registrieren</a></p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ REGISTER MODAL -->
  <div class="modal fade" id="registerModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered modal-lg">
      <div class="modal-content border-0 shadow-lg">
        <div class="modal-header border-0 pb-0">
          <h5 class="modal-title fw-bold"><i class="bi bi-person-plus me-2 text-primary"></i>Konto erstellen</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Schlie√üen"></button>
        </div>
        <div class="modal-body px-4 pb-4">
          <form id="registerForm" novalidate>
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold"><i class="bi bi-person me-2"></i>Vorname</label>
                <input type="text" id="regFirstName" class="form-control form-control-lg" placeholder="Max" required minlength="2">
                <div class="invalid-feedback">Vorname muss mindestens 2 Zeichen haben</div>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold"><i class="bi bi-person me-2"></i>Nachname</label>
                <input type="text" id="regLastName" class="form-control form-control-lg" placeholder="Mustermann" required minlength="2">
                <div class="invalid-feedback">Nachname muss mindestens 2 Zeichen haben</div>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label fw-semibold"><i class="bi bi-envelope me-2"></i>E-Mail</label>
              <input type="email" id="regEmail" class="form-control form-control-lg" placeholder="max@beispiel.com" required>
              <div class="invalid-feedback">Bitte geben Sie eine g√ºltige E-Mail ein</div>
            </div>
            <div class="mb-3">
              <label class="form-label fw-semibold"><i class="bi bi-lock me-2"></i>Passwort</label>
              <div class="input-group">
                <input type="password" id="regPassword" class="form-control form-control-lg" placeholder="Mindestens 6 Zeichen" required minlength="6">
                <button class="btn btn-outline-secondary" type="button" id="toggleRegPassword">
                  <i class="bi bi-eye"></i>
                </button>
              </div>
              <div class="invalid-feedback">Passwort muss mindestens 6 Zeichen haben</div>
              <div class="form-text"><i class="bi bi-info-circle me-1"></i>Verwenden Sie Buchstaben, Zahlen und Sonderzeichen</div>
            </div>
            <div class="mb-3">
              <label class="form-label fw-semibold"><i class="bi bi-lock-fill me-2"></i>Passwort best√§tigen</label>
              <input type="password" id="regPasswordConfirm" class="form-control form-control-lg" placeholder="Passwort wiederholen" required minlength="6">
              <div class="invalid-feedback">Passw√∂rter stimmen nicht √ºberein</div>
            </div>

            <div class="form-check mb-3">
              <input class="form-check-input" type="checkbox" id="regAgree" required>
              <label class="form-check-label" for="regAgree">
                Ich akzeptiere die <a href="#" class="text-primary">AGB</a> und <a href="#" class="text-primary">Datenschutzerkl√§rung</a>
              </label>
              <div class="invalid-feedback">Sie m√ºssen den Bedingungen zustimmen</div>
            </div>
            <button type="submit" class="btn btn-primary btn-lg w-100 mt-3">
              <i class="bi bi-check-circle me-2"></i>Jetzt registrieren
            </button>
            <p class="text-center mt-3 mb-0 text-muted">Bereits registriert? <a href="#" data-bs-toggle="modal" data-bs-target="#loginModal" data-bs-dismiss="modal" class="text-primary fw-semibold">Jetzt anmelden</a></p>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ SETTINGS MODAL -->
  <div class="modal fade" id="settingsModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Einstellungen</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div class="list-group">
            <a href="#" class="list-group-item list-group-item-action" onclick="showProfileEdit()">
              <i class="bi bi-person me-2"></i>Profil bearbeiten
            </a>
            <a href="#" class="list-group-item list-group-item-action" onclick="showPasswordChange()">
              <i class="bi bi-key me-2"></i>Passwort √§ndern
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ BOOKING MODAL -->
  <div class="modal fade" id="bookingModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header bg-primary text-white">
          <h5 class="modal-title"><i class="bi bi-calendar-check me-2"></i>Buchung best√§tigen</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <div id="bookingOfferDetails" class="mb-4"></div>
          <form id="bookingForm">
            <div class="row">
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold"><i class="bi bi-calendar-event me-2"></i>Reisedatum</label>
                <input type="date" id="bookingDate" class="form-control" required>
              </div>
              <div class="col-md-6 mb-3">
                <label class="form-label fw-semibold"><i class="bi bi-people me-2"></i>Anzahl Personen</label>
                <input type="number" id="bookingPersons" class="form-control" min="1" max="10" value="1" required>
              </div>
            </div>
            <div class="mb-3">
              <label class="form-label fw-semibold"><i class="bi bi-telephone me-2"></i>Telefonnummer</label>
              <input type="tel" id="bookingPhone" class="form-control" placeholder="+43 123 456789" required>
            </div>
            <div class="alert alert-info">
              <i class="bi bi-info-circle me-2"></i>Nach der Buchung erhalten Sie eine Best√§tigung per E-Mail.
            </div>
            <button type="submit" class="btn btn-primary btn-lg w-100">
              <i class="bi bi-check-circle me-2"></i>Jetzt buchen
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ ANGEBOTS-DETAILS MODAL -->
  <div class="modal fade" id="offerDetailsModal" tabindex="-1" aria-labelledby="offerDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="offerDetailsModalLabel">Angebotsdetails</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div class="row">
            <div class="col-md-6">
              <img id="offerModalImage" src="" alt="" class="img-fluid rounded">
            </div>
            <div class="col-md-6">
              <h4 id="offerModalTitle"></h4>
              <p id="offerModalLongText"></p>
              <ul class="list-unstyled">
                <li><strong id="labelPrice">Preis:</strong> <span id="offerModalPrice"></span></li>
                <li><strong id="labelDuration">Dauer:</strong> <span id="offerModalDuration"></span></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" id="offerModalBook">Buchen</button>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Schlie√üen</button>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ UNSERE SERVICES -->
  <section id="services" class="py-5">
    <div class="container text-center">
      <h2 class="section-title">Warum LND-Reisen?</h2>
  <div class="row mt-5">
        <div class="col-md-4 mb-4">
          <div class="service-card">
            <i class="bi bi-compass display-3 text-primary"></i>
            <h4 class="mt-3">Ma√ügeschneiderte Reisen</h4>
            <p>Wir planen Ihre Reise individuell nach Ihren W√ºnschen und Tr√§umen.</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="service-card">
            <i class="bi bi-award display-3 text-primary"></i>
            <h4 class="mt-3">Exzellenter Service</h4>
            <p>Unser erfahrenes Team steht Ihnen vor, w√§hrend und nach der Reise zur Seite.</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="service-card">
            <i class="bi bi-patch-check display-3 text-primary"></i>
            <h4 class="mt-3">Sicherheit & Vertrauen</h4>
            <p>Wir arbeiten nur mit gepr√ºften Partnern f√ºr Ihre Sicherheit und Zufriedenheit.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Reisefinder section removed -->

  <!-- üîπ TOP ANGEBOTE -->
  <section id="angebote" class="py-5 bg-light">
    <div class="container">
      <h2 class="section-title text-center" data-i18n="offersTitle">Top-Angebote</h2>
      <div id="angebote-grid" class="row mt-5"></div>
      <!-- If JS is disabled, show a simple fallback list -->
      <noscript>
        <div class="row mt-4">
          <div class="col-12">
            <p>Unsere Top-Angebote sind nur mit aktiviertem JavaScript sichtbar. Bitte aktivieren Sie JavaScript, um die Angebote zu sehen.</p>
          </div>
        </div>
      </noscript>
    </div>
  </section>
  
    <!-- üîπ BELIEBTE REISEZIELE -->
  <section id="reiseziele" class="py-5">
    <div class="container">
      <h2 class="section-title text-center" data-i18n="destinationsTitle">Beliebte Reiseziele</h2>

      <!-- Filter options for destinations -->
      <div class="row mt-4">
        <div class="col-12 text-center mb-3">
          <div class="filter-group btn-group" role="group" aria-label="Filter travel types">
            <button type="button" class="btn btn-outline-primary filter-btn active" data-filter="all" data-i18n="filterAll">Alle</button>
            <button type="button" class="btn btn-outline-primary filter-btn" data-filter="family-kids" data-i18n="filterFamilyWithKids">Familie mit Kindern</button>
            <button type="button" class="btn btn-outline-primary filter-btn" data-filter="family-no-kids" data-i18n="filterFamilyNoKids">Familie ohne Kinder</button>
            <button type="button" class="btn btn-outline-primary filter-btn" data-filter="couples" data-i18n="filterCouples">Paare</button>
            <button type="button" class="btn btn-outline-primary filter-btn" data-filter="solo" data-i18n="filterSolo">Alleinreisende</button>
            <button type="button" class="btn btn-outline-primary filter-btn" data-filter="friends" data-i18n="filterFriends">Freunde</button>
          </div>
        </div>
      </div>

      <div id="reiseziele-grid" class="row mt-3 g-3"></div>
      <noscript>
        <div class="row mt-3 g-3">
          <div class="col-12">
            <p>Bitte aktivieren Sie JavaScript, um die beliebten Reiseziele anzuzeigen.</p>
          </div>
        </div>
      </noscript>
    </div>
  </section>

  <!-- üîπ DESTINATION DETAILS OFFCANVAS (Bootstrap) -->
  <div class="offcanvas offcanvas-end" tabindex="-1" id="destDetailsOffcanvas" aria-labelledby="destDetailsOffcanvasLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="destDetailsOffcanvasLabel">Reiseziel</h5>
      <button type="button" class="btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <div class="dest-details">
        <img id="destOffcanvasImage" src="" alt="" class="img-fluid rounded mb-3">
        <h4 id="destOffcanvasTitle"></h4>
        <p id="destOffcanvasDesc"></p>
        <div id="destOffcanvasTags" class="mb-3"></div>
        <h6>Empfohlene Angebote</h6>
        <div id="destOffcanvasOffers" class="row g-2"></div>
      </div>
    </div>
  </div>

  <!-- üîπ PROFIL MODAL -->
  <div class="modal fade" id="profileModal" tabindex="-1">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content border-0 shadow-lg">
        <div class="modal-header border-0 bg-primary text-white">
          <h5 class="modal-title fw-bold"><i class="bi bi-person-circle me-2"></i>Mein Profil</h5>
          <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body p-4">
          <div class="row">
            <div class="col-md-4 text-center mb-4">
              <div class="avatar-large bg-primary text-white rounded-circle d-flex align-items-center justify-content-center mx-auto mb-3" id="profileAvatar" style="width: 100px; height: 100px; font-size: 2.5rem;"></div>
              <h5 class="fw-bold" id="profileFullName"></h5>
              <p class="text-muted" id="profileEmail"></p>
            </div>
            <div class="col-md-8">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <h6 class="fw-bold mb-0">Pers√∂nliche Informationen</h6>
                <button class="btn btn-sm btn-outline-primary" id="editProfileBtn">
                  <i class="bi bi-pencil me-1"></i>Bearbeiten
                </button>
              </div>
              
              <div id="profileView">
                <div class="row g-3 mb-4">
                  <div class="col-6">
                    <div class="p-3 bg-light rounded">
                      <small class="text-muted">Vorname</small>
                      <div class="fw-semibold" id="profileFirstName"></div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="p-3 bg-light rounded">
                      <small class="text-muted">Nachname</small>
                      <div class="fw-semibold" id="profileLastName"></div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="p-3 bg-light rounded">
                      <small class="text-muted">Telefon</small>
                      <div class="fw-semibold" id="profilePhone">Nicht angegeben</div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="p-3 bg-light rounded">
                      <small class="text-muted">Registriert seit</small>
                      <div class="fw-semibold" id="profileDatum"></div>
                    </div>
                  </div>
                  <div class="col-12">
                    <div class="p-3 bg-light rounded">
                      <small class="text-muted">Adresse</small>
                      <div class="fw-semibold" id="profileAddress">Nicht angegeben</div>
                    </div>
                  </div>
                </div>
              </div>
              
              <div id="profileEdit" style="display: none;">
                <form id="profileEditForm">
                  <div class="row g-3 mb-3">
                    <div class="col-6">
                      <label class="form-label">Vorname</label>
                      <input type="text" class="form-control" id="editFirstName" required>
                    </div>
                    <div class="col-6">
                      <label class="form-label">Nachname</label>
                      <input type="text" class="form-control" id="editLastName" required>
                    </div>
                    <div class="col-6">
                      <label class="form-label">Telefon</label>
                      <input type="tel" class="form-control" id="editPhone">
                    </div>
                    <div class="col-6">
                      <label class="form-label">Geburtsdatum</label>
                      <input type="date" class="form-control" id="editBirthDate">
                    </div>
                    <div class="col-12">
                      <label class="form-label">Adresse</label>
                      <textarea class="form-control" id="editAddress" rows="2"></textarea>
                    </div>
                  </div>
                  <div class="d-flex gap-2 mb-3">
                    <button type="submit" class="btn btn-primary">Speichern</button>
                    <button type="button" class="btn btn-secondary" id="cancelEditBtn">Abbrechen</button>
                  </div>
                </form>
              </div>
              
              <h6 class="fw-bold mb-3">Meine Buchungen</h6>
              <div id="profileBuchungen"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- üîπ BEWERTUNGEN -->
  <section id="bewertungen" class="py-5 bg-light">
    <div class="container">
      <h2 class="section-title text-center">Ihre Meinung z√§hlt</h2>
      <p class="text-center mb-5">Teilen Sie Ihre Erfahrungen mit LND-Reisen</p>
      
      <div class="row justify-content-center">
        <div class="col-lg-8">
          <div class="card shadow-sm">
            <div class="card-body p-4">
              <h5 class="mb-3">Bewertung abgeben</h5>
              <div class="rating-input-main mb-3">
                <i class="bi bi-star" data-rating="1"></i>
                <i class="bi bi-star" data-rating="2"></i>
                <i class="bi bi-star" data-rating="3"></i>
                <i class="bi bi-star" data-rating="4"></i>
                <i class="bi bi-star" data-rating="5"></i>
              </div>
              <input type="text" class="form-control mb-2" id="reviewName" placeholder="Ihr Name">
              <textarea class="form-control mb-3" id="reviewTextMain" rows="3" placeholder="Ihre Erfahrung mit uns..."></textarea>
              <button class="btn btn-primary" id="submitReviewMain">Bewertung senden</button>
            </div>
          </div>
          
          <div id="reviewsListMain" class="mt-4"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- üîπ FOOTER -->
  <footer class="bg-dark text-white py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-8 mb-4">
          <h5>LND-Reisen</h5>
          <p>Ihr Partner f√ºr unvergessliche Reiseerlebnisse. Kontaktieren Sie uns und lassen Sie uns Ihre n√§chste Traumreise planen.</p>
        </div>
        <div class="col-md-4 mb-4">
          <h5>Folgen Sie uns</h5>
          <a href="#" class="text-white fs-4 me-3"><i class="bi bi-facebook"></i></a>
          <a href="#" class="text-white fs-4 me-3"><i class="bi bi-instagram"></i></a>
          <a href="#" class="text-white fs-4"><i class="bi bi-twitter"></i></a>
        </div>
      </div>
      <div class="text-center border-top border-secondary pt-3 mt-3">
        <p>&copy; 2025 LND-Reisen. Alle Rechte vorbehalten.</p>
      </div>
    </div>
  </footer>

  <!-- üîπ OFFER DETAIL MODAL -->
  <div class="modal fade" id="offerDetailModal" tabindex="-1">
    <div class="modal-dialog modal-xl modal-dialog-centered">
      <div class="modal-content border-0 shadow-lg" style="border-radius: 24px; overflow: hidden;">
        <button type="button" class="btn-close position-absolute top-0 end-0 m-3 bg-white rounded-circle p-3 shadow" style="z-index: 1050; opacity: 1;" data-bs-dismiss="modal"></button>
        <div class="modal-body p-0">
          <div class="row g-0">
            <div class="col-lg-6">
              <div class="position-relative" style="height: 100%; min-height: 500px;">
                <img id="detailImage" src="" class="w-100 h-100" style="object-fit: cover;" alt="Reiseziel">
                <div class="position-absolute bottom-0 start-0 w-100 p-4" style="background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);">
                  <h2 class="text-white fw-bold mb-1" id="detailCity"></h2>
                  <p class="text-white mb-0 fs-5"><i class="bi bi-geo-alt-fill me-2"></i><span id="detailCountry"></span></p>
                </div>
                <div class="position-absolute top-0 end-0 m-3">
                  <span class="badge" style="background: linear-gradient(135deg, #ff6b6b, #ee5a6f); font-size: 1.5rem; padding: 0.8rem 1.5rem; border-radius: 20px; box-shadow: 0 8px 25px rgba(238, 90, 111, 0.4);">
                    <span id="detailPrice"></span>‚Ç¨
                  </span>
                </div>
              </div>
            </div>
            <div class="col-lg-6">
              <div class="p-5" style="height: 100%; overflow-y: auto; max-height: 600px; scroll-behavior: smooth;">
                <div class="mb-4">
                  <span class="badge bg-success mb-3" style="font-size: 0.9rem; padding: 0.5rem 1rem;">‚úì Verf√ºgbar</span>
                  <h5 class="text-muted mb-3">ab <span id="detailPrice2" class="text-dark fw-bold"></span>‚Ç¨ pro Person</h5>
                </div>

                <div class="row g-3 mb-4">
                  <div class="col-6">
                    <div class="p-3 rounded" style="background: linear-gradient(135deg, #667eea15, #764ba215); border-left: 4px solid #667eea;">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-airplane-fill fs-3 me-3" style="color: #667eea;"></i>
                        <div>
                          <small class="text-muted d-block">Abflug von</small>
                          <strong id="detailAirport"></strong>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="p-3 rounded" style="background: linear-gradient(135deg, #f093fb15, #f5576c15); border-left: 4px solid #f093fb;">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-calendar-event fs-3 me-3" style="color: #f093fb;"></i>
                        <div>
                          <small class="text-muted d-block">Reisedatum</small>
                          <strong id="detailDate"></strong>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="p-3 rounded" style="background: linear-gradient(135deg, #4facfe15, #00f2fe15); border-left: 4px solid #4facfe;">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-clock-fill fs-3 me-3" style="color: #4facfe;"></i>
                        <div>
                          <small class="text-muted d-block">Reisedauer</small>
                          <strong><span id="detailDays"></span> Tage</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="col-6">
                    <div class="p-3 rounded" style="background: linear-gradient(135deg, #43e97b15, #38f9d715); border-left: 4px solid #43e97b;">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-star-fill fs-3 me-3" style="color: #43e97b;"></i>
                        <div>
                          <small class="text-muted d-block">Bewertung</small>
                          <strong><span id="detailRating"></span> / 5.0</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="mb-4">
                  <h6 class="fw-bold mb-3 d-flex align-items-center">
                    <span class="bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                      <i class="bi bi-info-circle"></i>
                    </span>
                    Reisebeschreibung
                  </h6>
                  <p class="text-muted" style="line-height: 1.8;" id="detailDescription"></p>
                </div>

                <div class="mb-4 p-4 rounded" style="background: linear-gradient(135deg, #667eea10, #764ba210);">
                  <h6 class="fw-bold mb-3 d-flex align-items-center">
                    <span class="bg-success text-white rounded-circle d-inline-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
                      <i class="bi bi-check-lg"></i>
                    </span>
                    Inklusivleistungen
                  </h6>
                  <div class="row g-2">
                    <div class="col-6">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <span>Hin- & R√ºckflug</span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <span>Hotel mit Fr√ºhst√ºck</span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <span>Flughafentransfer</span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <span>Reiseversicherung</span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <span>24/7 Support</span>
                      </div>
                    </div>
                    <div class="col-6">
                      <div class="d-flex align-items-center">
                        <i class="bi bi-check-circle-fill text-success me-2"></i>
                        <span>Reisef√ºhrer</span>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="d-grid gap-2">
                  <button class="btn btn-lg" id="bookOfferBtn" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; border: none; padding: 1rem; font-weight: 600; border-radius: 12px; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);">
                    <i class="bi bi-cart-plus me-2"></i>Jetzt buchen - <span id="detailPrice3"></span>‚Ç¨
                  </button>
                  <button class="btn btn-outline-secondary btn-lg" style="border-radius: 12px; padding: 1rem; font-weight: 600;">
                    <i class="bi bi-heart me-2"></i>Auf Merkliste
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>


  
  <script>
    // Simple system without a database
    
    window.DB = {
      async getUser() {
        const user = localStorage.getItem('currentUser');
        return user ? JSON.parse(user) : null;
      },
      
      async getUserProfile() {
        return this.getUser();
      },
      
      async signUp(email, password, firstname, lastname) {
        const user = { email, firstname, lastname, created_at: new Date().toISOString() };
        localStorage.setItem('currentUser', JSON.stringify(user));
        localStorage.setItem('user_' + email, JSON.stringify(user));
        return { user };
      },
      
      async signIn(email, password) {
        const savedUser = localStorage.getItem('user_' + email);
        const user = savedUser ? JSON.parse(savedUser) : { email };
        localStorage.setItem('currentUser', JSON.stringify(user));
        return { user };
      },
      
      async signOut() {
        localStorage.removeItem('currentUser');
      },
      
      async getTours() {
        return [];
      },
      

      
      async createBooking(tourId) {
        return { success: true };
      },
      
      async getUserBookings() {
        return [];
      },
      
      async updateProfile(profileData) {
        const user = await this.getUser();
        if (user) {
          Object.assign(user, profileData);
          localStorage.setItem('currentUser', JSON.stringify(user));
          if (user.email) {
            localStorage.setItem('user_' + user.email, JSON.stringify(user));
          }
        }
        return user;
      }
    };
  </script>

  <!-- Authentication and login/register forms -->
  <script>
     // Initialize session check on page load
     window.addEventListener('load', async function() {
       console.log('Page loaded, checking session...');
     
       // Wait for DB initialization
       let attempts = 0;
       while (!window.DB && attempts < 100) {
         await new Promise(r => setTimeout(r, 50));
         attempts++;
       }
     
       if (window.DB && typeof updateNavigation === 'function') {
         console.log('Calling updateNavigation from load event');
         await updateNavigation();
       }
     });
   
    // Login form handling
    document.addEventListener('DOMContentLoaded', function() {
      const loginForm = document.getElementById('loginForm');
      if (loginForm) {
        loginForm.addEventListener('submit', async function(e) {
          e.preventDefault();
          
          const email = document.getElementById('loginEmail').value.trim();
          const password = document.getElementById('loginPassword').value;
           const submitBtn = this.querySelector('button[type="submit"]');
         
           if (!email || !password) {
             showToast('Bitte f√ºllen Sie alle Felder aus', 'error');
             return;
           }
         
           try {
             // Disable submit button
             submitBtn.disabled = true;
             submitBtn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Anmeldung...';
           
             // Wait for DB initialization
             let attempts = 0;
             while (!window.DB && attempts < 50) {
               await new Promise(r => setTimeout(r, 100));
               attempts++;
             }
           
             if (!window.DB) throw new Error('Datenbankverbindung nicht hergestellt');
           
             await window.DB.signIn(email, password);
           console.log('User logged in successfully');
           
           // Close modal window
           const loginModal = bootstrap.Modal.getInstance(document.getElementById('loginModal'));
           if (loginModal) loginModal.hide();
           
           // Reset the form
           loginForm.reset();
           submitBtn.disabled = false;
           submitBtn.innerHTML = '<i class="bi bi-check-circle me-2"></i>Anmelden';
           
           // Update navigation with a delay
           setTimeout(async () => {
             if (typeof updateNavigation === 'function') {
               await updateNavigation();
             }
             showToast('Erfolgreich angemeldet!', 'success');
           }, 500);
           
           } catch (error) {
             console.error('Login error:', error);
             showToast('Anmeldung fehlgeschlagen: ' + (error.message || 'Unbekannter Fehler'), 'error');
           } finally {
             // Re-enable button
             submitBtn.disabled = false;
             submitBtn.innerHTML = '<i class="bi bi-check-circle me-2"></i>Anmelden';
          }
        });
      }
      
      // Registration handling
      const registerForm = document.getElementById('registerForm');
      if (registerForm) {
        registerForm.addEventListener('submit', async function(e) {
          e.preventDefault();
          
          const email = document.getElementById('regEmail').value.trim();
          const password = document.getElementById('regPassword').value;
          const passwordConfirm = document.getElementById('regPasswordConfirm').value;
          const firstname = document.getElementById('regFirstName').value.trim();
          const lastname = document.getElementById('regLastName').value.trim();
           const submitBtn = this.querySelector('button[type="submit"]');
         
           // Validation
           if (!email || !password || !firstname || !lastname) {
             showToast('Bitte f√ºllen Sie alle Felder aus', 'error');
             return;
           }
          
          if (password !== passwordConfirm) {
            showToast('Passw√∂rter stimmen nicht √ºberein', 'error');
            return;
          }
         
           if (password.length < 6) {
             showToast('Passwort muss mindestens 6 Zeichen haben', 'error');
             return;
           }
          
          try {
             // Disable submit button
             submitBtn.disabled = true;
             submitBtn.innerHTML = '<i class="bi bi-hourglass-split me-2"></i>Registrierung...';
           
             // Wait for DB initialization
             let attempts = 0;
             while (!window.DB && attempts < 50) {
               await new Promise(r => setTimeout(r, 100));
               attempts++;
             }
           
             if (!window.DB) throw new Error('Datenbankverbindung nicht hergestellt');
           
            await window.DB.signUp(email, password, firstname, lastname);
           
             // Close the registration modal
            const registerModal = bootstrap.Modal.getInstance(document.getElementById('registerModal'));
            if (registerModal) registerModal.hide();
           
             // Reset the form
             registerForm.reset();
           
             // Update navigation
             setTimeout(async () => {
               if (typeof updateNavigation === 'function') {
                 await updateNavigation();
               }
               showToast('Konto erfolgreich erstellt!', 'success');
             }, 300);
           
           } catch (error) {
             console.error('Registration error:', error);
             showToast('Registrierung fehlgeschlagen: ' + (error.message || 'Unbekannter Fehler'), 'error');
           } finally {
             // Re-enable button
             submitBtn.disabled = false;
             submitBtn.innerHTML = '<i class="bi bi-check-circle me-2"></i>Jetzt registrieren';
          }
        });
      }
    });
  </script>
  
  <!-- Profile -->
  <script>
    async function loadProfile() {
      const user = await window.DB.getUser();
      if (!user) return;
      
      const initials = (user.firstname?.charAt(0) || 'U') + (user.lastname?.charAt(0) || 'U');
      document.getElementById('profileAvatar').textContent = initials;
      document.getElementById('profileFullName').textContent = (user.firstname || '') + ' ' + (user.lastname || '');
      document.getElementById('profileEmail').textContent = user.email || '';
      document.getElementById('profileFirstName').textContent = user.firstname || '';
      document.getElementById('profileLastName').textContent = user.lastname || '';
      document.getElementById('profilePhone').textContent = user.phone || 'Nicht angegeben';
      document.getElementById('profileAddress').textContent = user.address || 'Nicht angegeben';
      document.getElementById('profileDatum').textContent = user.created_at ? new Date(user.created_at).toLocaleDateString('de-DE') : 'Heute';
      
      const buchungen = await window.DB.getUserBookings();
      document.getElementById('profileBuchungen').innerHTML = buchungen.length ? buchungen.map(b => `<div class="p-2 bg-light rounded mb-2"><strong>${b.title || 'Buchung'}</strong></div>`).join('') : '<p class="text-muted">Noch keine Buchungen</p>';
    }
    
    document.getElementById('editProfileBtn')?.addEventListener('click', function() {
      document.getElementById('profileView').style.display = 'none';
      document.getElementById('profileEdit').style.display = 'block';
      this.style.display = 'none';
      const user = JSON.parse(localStorage.getItem('currentUser') || '{}');
      document.getElementById('editFirstName').value = user.firstname || '';
      document.getElementById('editLastName').value = user.lastname || '';
      document.getElementById('editPhone').value = user.phone || '';
      document.getElementById('editAddress').value = user.address || '';
    });
    
    document.getElementById('cancelEditBtn')?.addEventListener('click', function() {
      document.getElementById('profileView').style.display = 'block';
      document.getElementById('profileEdit').style.display = 'none';
      document.getElementById('editProfileBtn').style.display = 'inline-block';
    });
    
    document.getElementById('profileEditForm')?.addEventListener('submit', async function(e) {
      e.preventDefault();
      await window.DB.updateProfile({
        firstname: document.getElementById('editFirstName').value,
        lastname: document.getElementById('editLastName').value,
        phone: document.getElementById('editPhone').value,
        address: document.getElementById('editAddress').value
      });
      document.getElementById('profileView').style.display = 'block';
      document.getElementById('profileEdit').style.display = 'none';
      document.getElementById('editProfileBtn').style.display = 'inline-block';
      loadProfile();
      await updateNavigation();
      showToast('Profil aktualisiert!', 'success');
    });
  </script>
  
  <!-- Navigation -->
  <script src="nav.js"></script>
  
  <!-- Main script -->
  <script src="index.js"></script>


</body>

</html>
